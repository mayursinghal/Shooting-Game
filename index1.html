<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>Space Demo</title>
    <link href="css/style.css" media="all" rel="stylesheet" type="text/css"/>
  <script language="javascript" src="scripts/jquery-1.4.2.js" type="text/javascript"></script>
  <script language="javascript" src="scripts/jquery.hotkeys.js" type="text/javascript"></script>
  <script language="javascript" src="scripts/key_status.js" type="text/javascript"></script>
	<script language="javascript" src="scripts/util.js" type="text/javascript"></script>
	<script language="javascript" src="scripts/sprite.js" type="text/javascript"></script>
	<script language="javascript" src="scripts/sound.js" type="text/javascript"></script>
  <script type="text/javascript">

  </script>
  </head>
  <body>
    <canvas id="myCanvas" width="480" height="320" style="border:1px solid #d3d3d3;"></canvas>

    <script>
      var can_height=320;
      var can_width=480;
      var canvas_element=document.getElementById("myCanvas");
      var canvas=canvas_element.getContext("2d");

      var fps=30;
      setInterval(function(){
        update();
        draw();
      } , 1000/fps);

      //var textX=200;
      //var textY=200;
      function update(){
          //textX+=1;
          //textY+=1;
          if(keydown.space){
            player.shoot();
          }
          if(keydown.left){
            player.x-=5;
          }
          if(keydown.right){
            player.x+=5;
          }
          player.x=player.x.clamp(0,can_width-player.width);
      }

      function draw(){
        canvas.clearRect(0,0,can_width,can_height);
        player.draw();
        //canvas.fillStyle="#000";
        //canvas.fillText("Sup Bro",textX,textY);
      }

      var player={
          color : "#00A",
          x: 220,
          y: 270,
          width: 32,
          height: 32,
          draw: function(){
            canvas.fillStyle=this.color;
            canvas.fillRect(this.x,this.y,this.width,this.height);
          },
          shoot: function(){
            console.log("Pew Pew");
          }
      };


    </script>

  </body>
</html>
